# Kaltoe - 근무시간 관리 시스템

간단하고 직관적인 근무시간 관리 웹 애플리케이션입니다. 출근/퇴근 시간을 관리하고, 근무 이력을 확인하며, 초과근무를 추적할 수 있습니다.

## ✨ 주요 기능

### 🕐 출근/퇴근 관리
- **출근 버튼**: 클릭 시 출근 시간 기록, 버튼이 "퇴근하기"로 변경
- **퇴근 버튼**: 근무시간 충족 시 활성화, 클릭 시 퇴근 시간 기록
- **실시간 경과시간**: 출근 후 경과 시간을 실시간으로 카운트
- **예상 퇴근시간**: 휴가 옵션에 따른 정확한 퇴근 시간 계산
- **상태 표시**: "출근 전" → "근무 중" → "퇴근 완료" 상태 변화

### 🎯 휴가 옵션
- **정상근무**: 8시간 근무 + 1시간 휴게 (총 9시간)
- **반반차**: 6시간 근무 + 1시간 휴게 (총 7시간)
- **반차**: 4시간 근무 (휴게시간 없음)
- **기본 선택**: 정상근무가 기본으로 선택됨

### ⏰ 시간 관리
- **출근시간 수정**: 모달 창을 통해 출근시간 수정 가능 ([nn]시 [nn]분 형식)
- **남은 시간 표시**: 퇴근까지 남은 시간을 실시간 표시
- **색상 코딩**: 
  - 🟢 초록색: 퇴근 준비 (30분 이하 남음) 또는 칼퇴 성공 (30분 이하 초과)
  - 🔴 빨간색: 늦은 퇴근 (30분 초과)
- **퇴근 버튼 상태**: 근무시간 미충족 시 "퇴근까지 X시간 X분" 표시

### 📊 근무 요약 시스템
- **퇴근 후 요약**: 퇴근 시 오늘 근무 요약 자동 표시
- **상세 정보**: 출근/퇴근 시간, 총 근무시간, 근무 형태, 초과근무 시간
- **동적 메시지**: 
  - 30분 이하 초과: "오늘도 수고하셨습니다! 🎉"
  - 30분 초과: "내일은 칼퇴하세요! 💪"
- **이어서 근무**: 같은 날 다시 출근 시 이전 세션 계속

### 📈 근무 이력 시스템 (NEW!)
- **출근 전 이력 표시**: 출근하기 전에도 최근 30일간의 근무 기록 확인 가능
- **30일 저장**: 최근 30일간의 근무 기록 자동 저장
- **상세 정보**: 출근/퇴근 시간, 총 근무시간, 근무 형태, 초과근무 시간
- **초과근무 강조**: 초과근무가 있는 경우 주황색 배경으로 강조 표시
- **자동 정리**: 30일 이상 된 이력 자동 삭제
- **완벽한 정렬**: 헤더와 내용의 컬럼이 완벽하게 정렬

### 💾 데이터 관리
- **LocalStorage**: 브라우저에 데이터 자동 저장
- **상태 복원**: 페이지 새로고침 시 이전 상태 자동 복원
- **자정 처리**: 자정 이후에도 근무 요약 유지
- **에러 처리**: 데이터 손상 시 자동 복구
- **데이터 지속성**: 퇴근 후에도 근무 요약과 이력이 새로고침 후에도 유지

## 🚀 사용법

1. **출근하기**: "출근하기" 버튼 클릭
2. **휴가 옵션 선택**: 정상근무/반반차/반차 중 선택 (기본: 정상근무)
3. **시간 확인**: 경과시간과 예상 퇴근시간 실시간 확인
4. **출근시간 수정**: 필요시 "수정" 버튼으로 출근시간 변경
5. **퇴근하기**: 근무시간 충족 시 "퇴근하기" 버튼 활성화
6. **근무 요약**: 퇴근 후 오늘 근무 요약 및 이전 근무 기록 확인
7. **이어서 근무**: 같은 날 다시 출근 가능

## 🛠 기술 스택

- **HTML5**: 시맨틱 마크업, 모달 다이얼로그, 반응형 구조, ARIA 접근성
- **CSS3**: 반응형 디자인, Flexbox/Grid, 애니메이션, 그라데이션, 최적화된 간격 시스템
- **JavaScript (ES6+)**: 클래스 기반 구조, LocalStorage API, 실시간 업데이트, 에러 처리
- **브라우저 API**: Date 객체, setInterval, 이벤트 리스너, DOM 조작
- **접근성**: ARIA 속성, 키보드 네비게이션, 색상 대비 최적화
- **SEO**: 메타 태그 최적화, 검색엔진 친화적 구조

## 📁 파일 구조

```
kaltoe/
├── index.html          # 메인 HTML 파일
├── styles.css          # 스타일시트 (반응형 디자인)
├── script.js           # JavaScript 로직 (WorkTimeManager 클래스)
├── README.md           # 프로젝트 설명
└── .gitignore          # Git 무시 파일
```

## 🔧 핵심 클래스 구조

### WorkTimeManager
근무시간 관리의 핵심 클래스입니다.

```javascript
class WorkTimeManager {
    // 주요 메서드
    startWork()                    // 출근 처리
    endWork()                     // 퇴근 처리
    updateDisplay()               // UI 업데이트
    updateElapsedTime()           // 실시간 경과시간 업데이트 (에러 처리 포함)
    updateEndTime()               // 예상 퇴근시간 계산
    updateRemainingTime()         // 남은 시간 표시
    updateWorkButtonState()       // 퇴근 버튼 상태 관리
    updateHistorySectionVisibility() // 이력 섹션 표시 제어
    saveWorkData()                // 데이터 저장
    loadWorkData()                // 데이터 로드
    showWorkSummary()             // 근무 요약 표시
    showWorkHistoryInUIForMain()  // 메인 이력 표시
    
    // 유틸리티 메서드
    calculateRequiredHours()      // 필수 근무시간 계산
    calculateRequiredHoursForRecord() // 특정 기록의 필수 근무시간
    getWorkTypeText()             // 근무 형태 텍스트 변환
    formatTime()                  // 시간 포맷팅
    
    // 에러 처리 및 안정성
    validateElements()            // DOM 요소 검증
    destroy()                     // 리소스 정리
    removeEventListeners()        // 이벤트 리스너 정리
}
```



## 🌐 배포

- **GitHub Pages**: https://aehwa.github.io/kaltoe
- **브랜치 전략**: 
  - `master`: 배포용 브랜치 (안정화된 코드)
  - `develop`: 개발용 브랜치 (새로운 기능 개발)
- **배포 프로세스**:
  1. `develop` 브랜치에서 기능 개발 및 테스트
  2. 안정화 확인 후 `master` 브랜치로 병합
  3. GitHub Pages 자동 배포

## 📱 브라우저 지원

### 🌐 데스크톱 브라우저
- Chrome 60+ ✅
- Firefox 55+ ✅
- Safari 12+ ✅
- Edge 79+ ✅

### 📱 모바일 브라우저
- iOS Safari 12+ ✅
- Android Chrome 60+ ✅
- Samsung Internet 8+ ✅

### 🔧 기술 요구사항
- ES6+ 지원 (const, let, arrow functions, template literals)
- CSS Grid & Flexbox 지원
- LocalStorage API 지원
- 모던 JavaScript API 지원

## 🚀 로컬 개발

1. **프로젝트 클론**
   ```bash
   git clone https://github.com/aehwa/kaltoe.git
   cd kaltoe
   ```

2. **브랜치 전환**
   ```bash
   git checkout develop  # 개발용 브랜치
   # 또는
   git checkout master   # 배포용 브랜치
   ```

3. **브라우저에서 실행**
   - `index.html` 파일을 브라우저에서 직접 열기

4. **로컬 서버 실행 (선택사항)**
   ```bash
   # Python 3
   python -m http.server 8000
   
   # Node.js
   npx serve .
   
   # PHP
   php -S localhost:8000
   ```

5. **개발 모드**
   - `develop` 브랜치에서 기능 개발
   - `master` 브랜치에 안정화된 코드만 병합

6. **버전 관리 (향후 계획)**
   - Semantic Versioning 도입 예정
   - CHANGELOG.md 작성 예정

## 💡 주요 특징

### 🎯 사용자 경험
- **직관적인 UI**: 한눈에 보기 쉬운 카드 형태 레이아웃
- **실시간 업데이트**: 1초마다 시간 정보 업데이트
- **반응형 디자인**: 모바일/태블릿/데스크톱 모든 기기 지원
- **일관된 레이아웃**: 가로 배치 통일, 최적화된 간격 시스템

### 🔒 데이터 안정성
- **자동 저장**: 모든 변경사항 자동 저장
- **상태 복원**: 페이지 새로고침 시 이전 상태 완벽 복원
- **데이터 정리**: 30일 이상 된 이력 자동 삭제
- **에러 복구**: 데이터 손상 시 자동 초기화

### ⚡ 성능 최적화
- **DOM 업데이트 최소화**: 값이 변경된 경우에만 DOM 업데이트
- **메모리 관리**: 불필요한 타이머 정리
- **CSS 최적화**: 중복 스타일 제거, 공통 클래스 활용
- **간격 시스템**: 일관된 15px/25px 간격으로 레이아웃 최적화

### 🎨 접근성 및 품질
- **ARIA 속성**: 스크린 리더 지원, 키보드 네비게이션
- **색상 대비**: 가독성 향상을 위한 색상 최적화
- **SEO 최적화**: 메타 태그, 설명, 키워드 보강
- **에러 처리**: JavaScript 안정성 강화

## 🔮 최신 업데이트

### ✨ 새로운 기능
- **출근 전 이력 표시**: 출근하기 전에도 최근 30일간의 근무 기록 확인
- **초과근무 추적**: 각 근무 기록별 초과근무 시간 계산 및 표시
- **완벽한 정렬**: 이력 테이블의 컬럼 정렬 개선
- **데이터 지속성**: 퇴근 후 근무 요약이 새로고침 후에도 유지

### 🐛 버그 수정
- 근무 요약이 새로고침 후 사라지는 문제 해결
- 이력 표시 중복 문제 해결
- 컬럼 정렬 불일치 문제 해결
- 초과근무 0시간일 때 강조 표시 제거

### 🎨 UI 개선
- 이력 섹션의 레이아웃 개선
- 초과근무 시간의 시각적 강조
- 반응형 디자인 개선

### 🚀 주요 개선사항
- **레이아웃 시스템**: 스위치 제거, 가로 배치 통일
- **간격 시스템**: 일관된 15px/25px 간격으로 레이아웃 정리
- **접근성**: ARIA 속성, 역할, 라벨 추가
- **SEO**: 메타 태그, 설명, 키워드 보강
- **CSS**: 중복 스타일 제거, 공통 클래스 활용
- **JavaScript**: 에러 처리 강화, 로깅 개선
- **색상 대비**: 가독성 향상을 위한 색상 최적화

## 🔮 향후 계획

### 🔥 우선순위 높음
- [ ] 버전 관리 시스템 도입 (Semantic Versioning)
- [ ] 데이터베이스 연동 (API 서버 구축)
- [ ] 사용자 인증 시스템
- [ ] 팀 단위 근무 관리

### 🚀 중간 우선순위
- [ ] 모바일 앱 개발
- [ ] 알림 시스템 (퇴근 시간 알림)
- [ ] PWA 기능 추가
- [ ] 근무 통계 및 리포트

### 🎨 사용자 경험
- [ ] 테마/색상 커스터마이징
- [ ] 다크/라이트 모드
- [ ] 키보드 단축키 지원

### 🧪 품질 향상
- [ ] 단위 테스트 추가
- [ ] 성능 모니터링
- [ ] 접근성 감사 도구 통합

## 📄 라이선스

이 프로젝트는 개인적인 용도로 개발되었습니다.

## 📊 프로젝트 상태

### 🎯 현재 상태
- **최신 업데이트**: 레이아웃 시스템 개선 및 접근성 대폭 향상
- **안정성**: ⭐⭐⭐⭐⭐ (5/5)
- **접근성**: ⭐⭐⭐⭐⭐ (5/5)
- **성능**: ⭐⭐⭐⭐⭐ (5/5)
- **사용자 경험**: ⭐⭐⭐⭐⭐ (5/5)

### 🚀 주요 성과
- ✅ 반응형 레이아웃 완벽 구현
- ✅ 접근성 표준 준수 (ARIA, 키보드 네비게이션)
- ✅ SEO 최적화 완료
- ✅ 코드 품질 및 성능 최적화
- ✅ 일관된 디자인 시스템 구축

---

**칼퇴하세요! 💪** 🕐 